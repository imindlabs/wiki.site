<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar data-theme="dark" class="astro-tnkgpltv"> <head><!-- Google tag (gtag.js) --><script type="text/partytown" async src="https://www.googletagmanager.com/gtag/js?id=G-V3WBTFTQWG"></script> <script type="text/partytown">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V3WBTFTQWG');
</script> <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>1.5 Docker Compose | Operating Systems</title><link rel="canonical"/><link rel="shortcut icon" href="/dev/os/./public/fav.png" type="image/png"/><meta name="generator" content="Astro v4.15.3"/><meta name="generator" content="Starlight v0.26.3"/><meta property="og:title" content="1.5 Docker Compose"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description" content="Fundamentals of docker."/><meta property="og:site_name" content="Operating Systems"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="Fundamentals of docker."/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/dev/os/_astro/index.BXiyCExd.css">
<style>:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-5lqpf2io){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-5lqpf2io){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-5lqpf2io){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-5lqpf2io){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-5lqpf2io){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-5lqpf2io){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-5lqpf2io){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-5lqpf2io){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-5lqpf2io){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-5lqpf2io){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-5lqpf2io){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-5lqpf2io){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-5lqpf2io){vertical-align:middle}
svg:where(.astro-l4bgpgeq){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}
.sl-link-button:where(.astro-co5pw7sj){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-co5pw7sj).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-co5pw7sj).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-co5pw7sj).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-co5pw7sj).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-co5pw7sj) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-co5pw7sj){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-co5pw7sj){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-co5pw7sj):not(:where(p *)){margin-block:1rem}
</style><script type="module" src="/dev/os/_astro/hoisted.CErEb8Bq.js"></script>
<script type="module" src="/dev/os/_astro/page.7qqag-5g.js"></script>
<script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/dev/os/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.10.2 - MIT builder.io */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,d,l,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(l=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(v,1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.10.2":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<l.length;n++)(o=r.createElement("script")).innerHTML=l[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(d)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/dev/os/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script><script src="/dev/os/_astro/Tabs.astro_astro_type_script_index_0_lang.3nBd5krW.js" type="module"></script></head> <body class="astro-tnkgpltv"> <a href="#_top" class="astro-6wmuwu6q">Skip to content</a>  <div class="page sl-flex astro-wgwt2p6u"> <header class="header astro-wgwt2p6u"><div class="header sl-flex astro-hn3ss3xt"> <div class="title-wrapper sl-flex astro-hn3ss3xt"> <a href="/dev/os/" class="site-title sl-flex astro-yvrxj25y">  <img class="astro-yvrxj25y" alt="" src="/dev/os/_astro/logo_head_square.C50n2dyk.png" width="512" height="512">  <span class="astro-yvrxj25y"> Operating Systems </span> </a>  </div> <div class="sl-flex astro-hn3ss3xt"> <site-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}" class="astro-a7p2hsaf"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-a7p2hsaf"> <svg aria-hidden="true" class="astro-a7p2hsaf astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-a7p2hsaf" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-a7p2hsaf" style="display: none;"> <kbd class="astro-a7p2hsaf">Ctrl</kbd><kbd class="astro-a7p2hsaf">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-a7p2hsaf"> <div class="dialog-frame sl-flex astro-a7p2hsaf">  <button data-close-modal class="sl-flex md:sl-hidden astro-a7p2hsaf"> Cancel </button> <div class="search-container astro-a7p2hsaf"> <div id="starlight__search" class="astro-a7p2hsaf"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script>    </div> <div class="sl-hidden md:sl-flex right-group astro-hn3ss3xt"> <div class="sl-flex social-icons astro-hn3ss3xt">  </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-vkr4p5k4"> <span class="sr-only astro-vkr4p5k4">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-vkr4p5k4 astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-vkr4p5k4"> <option value="dark" class="astro-vkr4p5k4">Dark</option><option value="light" class="astro-vkr4p5k4">Light</option><option value="auto" selected="true" class="astro-vkr4p5k4">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-vkr4p5k4 astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div> </div> </header> <nav class="sidebar astro-wgwt2p6u" aria-label="Main"> <starlight-menu-button class="astro-iuqnx57a"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-iuqnx57a"> <svg aria-hidden="true" class="astro-iuqnx57a astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-wgwt2p6u"> <div class="sidebar-content sl-flex astro-wgwt2p6u"> <sl-sidebar-state-persist data-hash="0ehvu9h" class="astro-22wkwjli"> <ul class="top-level astro-lrovcrdd"> <li class="astro-lrovcrdd"> <a href="/dev/os/introduction" class="large astro-lrovcrdd"> <span class="astro-lrovcrdd">Introduction</span>  </a> </li><li class="astro-lrovcrdd"> <details open class="astro-lrovcrdd"> <summary class="astro-lrovcrdd"> <div class="group-label astro-lrovcrdd"> <span class="large astro-lrovcrdd">Virtual Machines</span>  </div> <svg aria-hidden="true" class="caret astro-lrovcrdd astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-lrovcrdd">  </ul>  </details> </li><li class="astro-lrovcrdd"> <details open class="astro-lrovcrdd"> <summary class="astro-lrovcrdd"> <div class="group-label astro-lrovcrdd"> <span class="large astro-lrovcrdd">Containerization</span>  </div> <svg aria-hidden="true" class="caret astro-lrovcrdd astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-lrovcrdd"> <li class="astro-lrovcrdd"> <details open class="astro-lrovcrdd"> <summary class="astro-lrovcrdd"> <div class="group-label astro-lrovcrdd"> <span class="large astro-lrovcrdd">1. Docker</span>  </div> <svg aria-hidden="true" class="caret astro-lrovcrdd astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-lrovcrdd"> <li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/1-docker/0_images/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">0 Images to Download</span>  </a> </li><li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/1-docker/1_fundamentals/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">1.1 Fundamentals</span>  </a> </li><li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/1-docker/2_workflow/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">1.2 Workflow</span>  </a> </li><li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/1-docker/3_volume/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">1.3 Volumes</span>  </a> </li><li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/1-docker/4_networking/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">1.4 Networking</span>  </a> </li><li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/1-docker/5_compose/" aria-current="page" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">1.5 Docker Compose</span>  </a> </li><li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/1-docker/6_container_monitoring/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">1.6 Container Monitoring</span>  </a> </li><li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/1-docker/7_misc/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">1.7 Docker Misc</span>  </a> </li> </ul>  </details> </li><li class="astro-lrovcrdd"> <details open class="astro-lrovcrdd"> <summary class="astro-lrovcrdd"> <div class="group-label astro-lrovcrdd"> <span class="large astro-lrovcrdd">2. Kubernetes</span>  </div> <svg aria-hidden="true" class="caret astro-lrovcrdd astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-lrovcrdd"> <li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/2-kubernetes/example/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">Example Reference</span>  </a> </li> </ul>  </details> </li><li class="astro-lrovcrdd"> <a href="/dev/os/4_containerization/example/" class="astro-lrovcrdd"> <span class="astro-lrovcrdd">Example Reference</span>  </a> </li> </ul>  </details> </li> </ul>  </sl-sidebar-state-persist> <div class="md:sl-hidden astro-22wkwjli"> <div class="mobile-preferences sl-flex astro-oism4in2"> <div class="sl-flex social-icons astro-oism4in2">  </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-vkr4p5k4"> <span class="sr-only astro-vkr4p5k4">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-vkr4p5k4 astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-vkr4p5k4"> <option value="dark" class="astro-vkr4p5k4">Dark</option><option value="light" class="astro-vkr4p5k4">Light</option><option value="auto" selected="true" class="astro-vkr4p5k4">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-vkr4p5k4 astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div>  <script>
	(() => {
		try {
			if (!matchMedia('(min-width: 50em)').matches) return;
			const scroller = document.getElementById('starlight__sidebar');
			/** @type {HTMLElement | null} */
			const target = document.querySelector('sl-sidebar-state-persist');
			const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
			if (!scroller || !target || !state || target.dataset.hash !== state.hash) return;
			target
				.querySelectorAll('details')
				.forEach((el, idx) => typeof state.open[idx] === 'boolean' && (el.open = state.open[idx]));
			scroller.scrollTop = state.scroll;
		} catch {}
	})();
</script>  </div> </div> </nav> <div class="main-frame astro-wgwt2p6u">   <div class="lg:sl-flex astro-ky6ec5xa"> <aside class="right-sidebar-container astro-ky6ec5xa"> <div class="right-sidebar astro-ky6ec5xa"> <div class="lg:sl-hidden astro-26ir5msd"><mobile-starlight-toc data-min-h="1" data-max-h="3" class="astro-fmlrjppt"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-fmlrjppt"><details id="starlight__mobile-toc" class="astro-fmlrjppt"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-fmlrjppt"><div class="toggle sl-flex astro-fmlrjppt">On this page<svg aria-hidden="true" class="caret astro-fmlrjppt astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-fmlrjppt"></span></summary><div class="dropdown astro-fmlrjppt"><ul class="isMobile astro-jjbp3tvj" style="--depth: 0;"> <li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#_top" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#1-introduction" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">1. Introduction</span> </a> <ul class="isMobile astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#11-key-features-of-docker-compose" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">1.1 Key Features of Docker Compose:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#12-how-docker-compose-works" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">1.2 How Docker Compose Works:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#13-example-use-case" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">1.3 Example Use Case:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#14-basic-workflow" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">1.4 Basic Workflow:</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#2-container-orchestration" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">2. Container Orchestration</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#3-example" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">3. Example</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#4-docker-compose-up" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">4. docker-compose up</span> </a> <ul class="isMobile astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#41-how-services-work-with-docker-compose-up" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">4.1 How Services Work with docker-compose up</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#42-independence-vs-interdependence" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">4.2 Independence vs. Interdependence</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#5-share-volumes-in-compose" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">5. Share Volumes in Compose</span> </a> <ul class="isMobile astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#51-example-sharing-a-volume-between-containers" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">5.1 Example: Sharing a Volume Between Containers</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#52-is-volumes-section-mandatory-in-compose" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">5.2 Is volumes section mandatory in compose?</span> </a> <ul class="isMobile astro-jjbp3tvj" style="--depth: 2;"> <li class="astro-jjbp3tvj" style="--depth: 2;"> <a href="#1-without-volumes-section-anonymous-volume" class="astro-jjbp3tvj" style="--depth: 2;"> <span class="astro-jjbp3tvj" style="--depth: 2;">1. Without volumes Section (Anonymous Volume):</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 2;"> <a href="#2-with-volumes-section-named-volume" class="astro-jjbp3tvj" style="--depth: 2;"> <span class="astro-jjbp3tvj" style="--depth: 2;">2. With volumes Section (Named Volume):</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 2;"> <a href="#3-key-differences" class="astro-jjbp3tvj" style="--depth: 2;"> <span class="astro-jjbp3tvj" style="--depth: 2;">3. Key Differences:</span> </a>  </li> </ul>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#6-environment-variables" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">6. Environment variables</span> </a> <ul class="isMobile astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#61-env_file-section" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">6.1 env_file Section</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#62-environment-section" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">6.2 environment Section</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#63-key-differences" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">6.3 Key Differences:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#64-example-of-using-both" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">6.4 Example of Using Both:</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#7-docker-compose-command-sh--c" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">7. Docker compose command sh -c</span> </a> <ul class="isMobile astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#71-direct-echo-command-example" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">7.1 Direct echo Command Example:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#72-when-you-need-sh--c" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">7.2 When You Need sh -c:</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#8-docker-compose-psuedo-terminal" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">8. Docker compose Psuedo Terminal</span> </a> <ul class="isMobile astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#81-using-docker-compose-run" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">8.1 Using docker-compose run</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#82-docker-compose-exec" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">8.2 docker-compose exec</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#83-differences-between-run-and-exec" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">8.3 Differences Between run and exec:</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#9-interative-termial-in-docker-composeyaml" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">9. Interative Termial in docker-compose.yaml</span> </a> <ul class="isMobile astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#91-example-docker-composeyml-with-interactive-terminal" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">9.1 Example docker-compose.yml with Interactive Terminal:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#92-running-the-service" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">9.2 Running the Service:</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-26ir5msd"><div class="sl-container astro-26ir5msd"><starlight-toc data-min-h="1" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-jjbp3tvj" style="--depth: 0;"> <li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#_top" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#1-introduction" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">1. Introduction</span> </a> <ul class="astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#11-key-features-of-docker-compose" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">1.1 Key Features of Docker Compose:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#12-how-docker-compose-works" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">1.2 How Docker Compose Works:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#13-example-use-case" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">1.3 Example Use Case:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#14-basic-workflow" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">1.4 Basic Workflow:</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#2-container-orchestration" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">2. Container Orchestration</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#3-example" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">3. Example</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#4-docker-compose-up" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">4. docker-compose up</span> </a> <ul class="astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#41-how-services-work-with-docker-compose-up" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">4.1 How Services Work with docker-compose up</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#42-independence-vs-interdependence" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">4.2 Independence vs. Interdependence</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#5-share-volumes-in-compose" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">5. Share Volumes in Compose</span> </a> <ul class="astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#51-example-sharing-a-volume-between-containers" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">5.1 Example: Sharing a Volume Between Containers</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#52-is-volumes-section-mandatory-in-compose" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">5.2 Is volumes section mandatory in compose?</span> </a> <ul class="astro-jjbp3tvj" style="--depth: 2;"> <li class="astro-jjbp3tvj" style="--depth: 2;"> <a href="#1-without-volumes-section-anonymous-volume" class="astro-jjbp3tvj" style="--depth: 2;"> <span class="astro-jjbp3tvj" style="--depth: 2;">1. Without volumes Section (Anonymous Volume):</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 2;"> <a href="#2-with-volumes-section-named-volume" class="astro-jjbp3tvj" style="--depth: 2;"> <span class="astro-jjbp3tvj" style="--depth: 2;">2. With volumes Section (Named Volume):</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 2;"> <a href="#3-key-differences" class="astro-jjbp3tvj" style="--depth: 2;"> <span class="astro-jjbp3tvj" style="--depth: 2;">3. Key Differences:</span> </a>  </li> </ul>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#6-environment-variables" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">6. Environment variables</span> </a> <ul class="astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#61-env_file-section" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">6.1 env_file Section</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#62-environment-section" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">6.2 environment Section</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#63-key-differences" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">6.3 Key Differences:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#64-example-of-using-both" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">6.4 Example of Using Both:</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#7-docker-compose-command-sh--c" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">7. Docker compose command sh -c</span> </a> <ul class="astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#71-direct-echo-command-example" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">7.1 Direct echo Command Example:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#72-when-you-need-sh--c" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">7.2 When You Need sh -c:</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#8-docker-compose-psuedo-terminal" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">8. Docker compose Psuedo Terminal</span> </a> <ul class="astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#81-using-docker-compose-run" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">8.1 Using docker-compose run</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#82-docker-compose-exec" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">8.2 docker-compose exec</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#83-differences-between-run-and-exec" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">8.3 Differences Between run and exec:</span> </a>  </li> </ul>  </li><li class="astro-jjbp3tvj" style="--depth: 0;"> <a href="#9-interative-termial-in-docker-composeyaml" class="astro-jjbp3tvj" style="--depth: 0;"> <span class="astro-jjbp3tvj" style="--depth: 0;">9. Interative Termial in docker-compose.yaml</span> </a> <ul class="astro-jjbp3tvj" style="--depth: 1;"> <li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#91-example-docker-composeyml-with-interactive-terminal" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">9.1 Example docker-compose.yml with Interactive Terminal:</span> </a>  </li><li class="astro-jjbp3tvj" style="--depth: 1;"> <a href="#92-running-the-service" class="astro-jjbp3tvj" style="--depth: 1;"> <span class="astro-jjbp3tvj" style="--depth: 1;">9.2 Running the Service:</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-ky6ec5xa">  <main data-pagefind-body lang="en" dir="ltr" class="astro-tnkgpltv">    <div class="content-panel astro-lunt5ejt"> <div class="sl-container astro-lunt5ejt"> <h1 id="_top" class="astro-2sicnpfu">1.5 Docker Compose</h1>  </div> </div>  <div class="content-panel astro-lunt5ejt"> <div class="sl-container astro-lunt5ejt"> <div class="sl-markdown-content"> <h1 id="1-introduction">1. Introduction</h1>
<p>Docker Compose is a tool that allows you to define and manage multi-container Docker applications. It uses a YAML file to configure the application’s services, networks, and volumes. With Docker Compose, you can easily manage and deploy complex applications that require multiple services working together, such as web servers, databases, caches, and more.</p>
<h2 id="11-key-features-of-docker-compose">1.1 Key Features of Docker Compose:</h2>
<p><strong>1. Multi-Container Management:</strong> Define and run multiple containers as a single application. For example, you can set up a web server, database, and cache in one <code dir="auto">docker-compose.yml</code> file.</p>
<p><strong>2. Declarative Configuration:</strong> The <code dir="auto">docker-compose.yml</code> file describes the entire application, including its services, networks, and volumes, in a clear and consistent manner.</p>
<p><strong>3. Single Command Deployment:</strong> Start your entire application stack with a single command (<code dir="auto">docker-compose up</code>), which builds, creates, and starts all the defined services.</p>
<p><strong>4. Environment-Specific Configurations:</strong> Easily manage different environments (development, testing, production) using environment variables and overriding configurations.</p>
<p><strong>5. Networking:</strong> Automatically sets up a network for your containers, allowing them to communicate with each other using service names as hostnames.</p>
<p><strong>6. Scalability:</strong> You can scale services up or down with a simple command (<code dir="auto">docker-compose up --scale &#x3C;service>=&#x3C;num></code>), making it easy to handle more load or reduce resource usage.</p>
<h2 id="12-how-docker-compose-works">1.2 How Docker Compose Works:</h2>
<p><strong>1. Define your application’s environment</strong> with a <code dir="auto">docker-compose.yml</code> file.</p>
<p><strong>2. Start your application</strong> by running <code dir="auto">docker-compose up</code>.</p>
<p><strong>3. Compose handles</strong> starting and linking your services, creating the network, and attaching any volumes defined.</p>
<h2 id="13-example-use-case">1.3 Example Use Case:</h2>
<p>Imagine you have a web application that requires:</p>
<ul>
<li>A web server running Nginx.</li>
<li>A backend API built with Flask.</li>
<li>A Redis instance for caching.</li>
</ul>
<p>With Docker Compose, you can define all these services in one file and manage them together. This eliminates the need to manually link containers, manage networks, or define volumes separately.</p>
<h2 id="14-basic-workflow">1.4 Basic Workflow:</h2>
<p><strong>1. Create a <code dir="auto">docker-compose.yml</code> file</strong>: This file contains the definitions for your services.</p>
<p><strong>2. Run <code dir="auto">docker-compose up</code></strong>: This command builds the images (if needed), creates the containers, and starts all the services defined in the file.</p>
<p><strong>3. Use <code dir="auto">docker-compose down</code></strong> to stop and remove all containers, networks, and volumes associated with the Compose file.</p>
<aside aria-label="IMPORTANT" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> IMPORTANT </p> <section class="starlight-aside__content"> <p>Docker Compose simplifies the process of running multi-container Docker applications. By defining everything in a single configuration file, it allows you to manage the lifecycle of your application as a whole, from development to production. This is a simple form of container orchestration.</p> </section> </aside>
<h1 id="2-container-orchestration">2. Container Orchestration</h1>
<p>Docker Compose is often associated with container orchestration, but it is not a full-fledged container orchestration tool like Kubernetes or Docker Swarm. Instead, Docker Compose is a simpler tool focused on defining and managing multi-container Docker applications in a single host environment.</p>
<p><strong>1. Orchestration Capabilities:</strong></p>
<ul>
<li><strong>Docker Compose</strong> provides basic orchestration features such as starting, stopping, and scaling containers. It allows you to manage the lifecycle of a group of containers (e.g., web server, database) on a single host.</li>
<li><strong>Kubernetes/Docker Swarm</strong> provide more advanced orchestration capabilities, including automated deployment, scaling across multiple hosts, self-healing, rolling updates, and more.</li>
</ul>
<p><strong>2. Use Case:</strong></p>
<ul>
<li><strong>Docker Compose</strong> is ideal for local development, testing environments, and small-scale deployments. It’s particularly useful when all services run on a single machine.</li>
<li><strong>Full Orchestration Tools</strong> (like Kubernetes) are designed for production environments with complex needs, such as deploying across clusters, managing multiple nodes, and handling distributed systems.</li>
</ul>
<p><strong>3. Single vs. Multi-Host:</strong></p>
<ul>
<li><strong>Docker Compose</strong> manages containers on a single host. It does not natively support multi-host deployments or sophisticated networking across multiple nodes.</li>
<li><strong>Kubernetes and Docker Swarm</strong> are designed for managing containers across multiple hosts, supporting large-scale, distributed applications.</li>
</ul>
<aside aria-label="IMPORTANT" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> IMPORTANT </p> <section class="starlight-aside__content"> <p>While Docker Compose has basic orchestration features, it is not a complete orchestration tool like Kubernetes. Docker Compose is best suited for managing multi-container applications on a single host, making it a powerful tool for development and small-scale production environments. For more complex, distributed, and scalable deployments, a full orchestration system like Kubernetes is required.</p> </section> </aside>
<h1 id="3-example">3. Example</h1>
<p>A simple example of a <code dir="auto">docker-compose.yml</code> file. This example sets up a basic web application with a Python Flask app, a Redis database, and a reverse proxy using Nginx:</p>
<div class="expressive-code"><link rel="stylesheet" href="/dev/os/_astro/ec.r03g6.css"><script type="module" src="/dev/os/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">web</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python:3.8-slim</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">flask-app</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">working_dir</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">/app</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">./app:/app</span><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#809191;--1:#616671"># This is not a named-volume mapping</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">ports</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">5000:5000</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">flask run --host=0.0.0.0</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">redis</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">redis:alpine</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">redis-db</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">ports</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">6379:6379</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">nginx</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">nginx:alpine</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">nginx-proxy</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">ports</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">80:80</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">./nginx.conf:/etc/nginx/nginx.conf</span><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#809191;--1:#616671"># This is not a named-volume mapping</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  web:    image: python:3.8-slim    container_name: flask-app    working_dir: /app    volumes:      - ./app:/app  # This is not a named-volume mapping    ports:      - &#x22;5000:5000&#x22;    command: flask run --host=0.0.0.0  redis:    image: redis:alpine    container_name: redis-db    ports:      - &#x22;6379:6379&#x22;  nginx:    image: nginx:alpine    container_name: nginx-proxy    ports:      - &#x22;80:80&#x22;    volumes:      - ./nginx.conf:/etc/nginx/nginx.conf  # This is not a named-volume mapping"><div></div></button></div></figure></div>
<h4 id="structure">Structure:</h4>
<p><strong>1. version:</strong> Defines the version of Docker Compose being used.
<strong>2. services:</strong> Specifies the different services that make up the application.</p>
<ul>
<li><strong>web:</strong> Runs the Flask app using a Python image.</li>
<li><strong>redis:</strong> Runs the Redis database.</li>
<li><strong>nginx:</strong> Uses Nginx as a reverse proxy.
<strong>3. volumes:</strong> Mounts local directories or files to the container.
<strong>4. ports:</strong> Maps container ports to the host.</li>
</ul>
<aside aria-label="TIP" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> TIP </p> <section class="starlight-aside__content"> <h5 id="when-the-version-field-is-required">When the <code dir="auto">version</code> Field is Required:</h5><ul>
<li><strong>Older Versions of Docker Compose:</strong> If you are using an older version of Docker Compose (pre-3.9), the <code dir="auto">version</code> field is mandatory to specify the version of the Compose file format.</li>
</ul><h5 id="when-the-version-field-is-optional">When the <code dir="auto">version</code> Field is Optional:</h5><ul>
<li><strong>Docker Compose 3.9 and Later:</strong> In Docker Compose version 3.9 and above, you can omit the <code dir="auto">version</code> field, and Docker will assume you are using the latest schema.</li>
</ul><p>If you aim for compatibility with older environments or prefer to explicitly control the schema version, including the <code dir="auto">version</code> field is still a good practice.</p> </section> </aside>
<h4 id="how-to-use-docker-composeyaml">How to Use <code dir="auto">docker-compose.yaml</code>:</h4>
<ol>
<li>Place this <code dir="auto">docker-compose.yml</code> in the root directory of your project.</li>
<li>Run <code dir="auto">docker-compose up</code> in the terminal to start all services.</li>
</ol>
<aside aria-label="TIP" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> TIP </p> <section class="starlight-aside__content"> <p>To detach from the docker-compose prompt and get back to host PC’s prompt, use:
<code dir="auto">docker-compose up -d</code></p> </section> </aside>
<p>You can customize the <code dir="auto">docker-compose.yml</code> to fit your specific application needs, such as adding databases, additional services, or scaling your application.</p>
<h1 id="4-docker-compose-up">4. <code dir="auto">docker-compose up</code></h1>
<p>When you run <code dir="auto">docker-compose up</code>, it starts all the services defined in your <code dir="auto">docker-compose.yml</code> file, but these services are not entirely independent—they are designed to work together as part of a multi-container application.</p>
<h2 id="41-how-services-work-with-docker-compose-up">4.1 How Services Work with <code dir="auto">docker-compose</code> <code dir="auto">up</code></h2>
<ol>
<li>
<p><strong>Dependency Management:</strong></p>
<ul>
<li>Docker Compose respects the dependencies between services. For example, if your <code dir="auto">web</code> service depends on a <code dir="auto">database</code> service, Docker Compose ensures that the <code dir="auto">database</code> service is started before the <code dir="auto">web</code> service.</li>
<li>You can explicitly define dependencies using the <code dir="auto">depends_on</code> key in the <code dir="auto">docker-compose.yml</code> file.</li>
</ul>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">web</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">build</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#F78C6C;--1:#AA0982">.</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">depends_on</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">database</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">database</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">postgres</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="services:  web:    build: .    depends_on:      - database  database:    image: postgres"><div></div></button></div></figure></div>
</li>
<li>
<p><strong>Network Connectivity:</strong></p>
<ul>
<li>By default, Docker Compose creates a network for all the services to communicate with each other. Services can reach one another by their service names (e.g., <code dir="auto">database</code> in the example above).</li>
<li>Even though the services run in separate containers, they are interconnected and can communicate over this internal network.</li>
</ul>
</li>
<li>
<p><strong>Parallel Start:</strong></p>
<ul>
<li>Services are typically started in parallel, but if one service depends on another, Docker Compose ensures that the dependent service is ready before proceeding.</li>
</ul>
</li>
<li>
<p><strong>Shared Volumes:</strong></p>
<ul>
<li>If services share a volume, they can read/write to the same data. This ensures that data is consistent across services that need to interact with the same files.</li>
</ul>
</li>
</ol>
<h2 id="42-independence-vs-interdependence">4.2 Independence vs. Interdependence</h2>
<ul>
<li><strong>Independent Execution:</strong> Each service runs in its own container with its own environment, which means they are isolated and can run independently.</li>
<li><strong>Interdependence:</strong> Despite their independent execution, services are often designed to work together as part of the same application (e.g., a web server connecting to a database).</li>
</ul>
<h4 id="example-of-docker-compose-up-execution">Example of <code dir="auto">docker-compose up</code> Execution:</h4>
<p>Given a <code dir="auto">docker-compose.yml</code> file with two services:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">web</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">nginx</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">ports</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">80:80</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">depends_on</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">app</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">app</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python:3.8</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python app.py</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  web:    image: nginx    ports:      - &#x22;80:80&#x22;    depends_on:      - app  app:    image: python:3.8    command: python app.py"><div></div></button></div></figure></div>
<ul>
<li><code dir="auto">docker-compose up</code> will:
<ol>
<li>Start the <code dir="auto">app</code> service.</li>
<li>Once <code dir="auto">app</code> is running, start the <code dir="auto">web</code> service.</li>
</ol>
</li>
</ul>
<h1 id="5-share-volumes-in-compose">5. Share Volumes in Compose</h1>
<p>In Docker Compose, you can share volumes between containers by defining a named volume and then mounting it in multiple services. This allows containers to share data, such as configuration files or persistent storage.</p>
<h2 id="51-example-sharing-a-volume-between-containers">5.1 Example: Sharing a Volume Between Containers</h2>
<p>Let’s say you have two services: <code dir="auto">app</code> and <code dir="auto">worker</code>. Both need to access a shared directory where they read and write data.</p>
<p>Here’s how you can define and use a shared volume in a <code dir="auto">docker-compose.yml</code> file:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">app</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python:3.8-slim</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">app-container</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">shared-data:/data</span><span style="--0:#D6DEEB;--1:#403F53">   </span><span style="--0:#809191;--1:#616671"># This is a named-volume</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python /data/app.py</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">worker</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python:3.8-slim</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">worker-container</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">shared-data:/data</span><span style="--0:#D6DEEB;--1:#403F53">   </span><span style="--0:#809191;--1:#616671"># This is a named-volume</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python /data/worker.py</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">shared-data</span><span style="--0:#D6DEEB;--1:#403F53">:  </span><span style="--0:#809191;--1:#616671"># named-volume definition</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  app:    image: python:3.8-slim    container_name: app-container    volumes:      - shared-data:/data   # This is a named-volume    command: python /data/app.py  worker:    image: python:3.8-slim    container_name: worker-container    volumes:      - shared-data:/data   # This is a named-volume    command: python /data/worker.pyvolumes:  shared-data:  # named-volume definition"><div></div></button></div></figure></div>
<aside aria-label="IMPORTANT" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> IMPORTANT </p> <section class="starlight-aside__content"> <p>Named volumes will not be created on the fly. They must be defined in the <code dir="auto">volumes:</code> section seperately in the <code dir="auto">docker-compose.yaml</code> file.</p> </section> </aside>
<p><strong>1. services:</strong></p>
<ul>
<li><code dir="auto">app</code> and <code dir="auto">worker</code> are two services that both mount the <code dir="auto">shared-data</code> volume to the <code dir="auto">/data</code> directory inside their containers.</li>
<li>Both services can read and write to the <code dir="auto">/data</code> directory, and any changes made by one service will be visible to the other.</li>
</ul>
<p><strong>2. volumes:</strong></p>
<ul>
<li>The <code dir="auto">volumes</code> section at the bottom defines the named volume <code dir="auto">shared-data</code>.</li>
<li>Docker manages this volume and ensures it persists across container restarts.</li>
</ul>
<h4 id="how-it-works">How It Works:</h4>
<ul>
<li>When you run <code dir="auto">docker-compose up</code>, Docker will create the <code dir="auto">shared-data</code> volume if it doesn’t exist, and mount it to the specified directories inside the <code dir="auto">app</code> and <code dir="auto">worker</code> containers.</li>
<li>Both containers can access and modify files in the <code dir="auto">/data</code> directory, enabling them to share data.</li>
</ul>
<p>This approach is useful for scenarios like sharing logs, configuration files, or temporary data between different services in your Docker Compose setup.</p>
<h2 id="52-is-volumes-section-mandatory-in-compose">5.2 Is <code dir="auto">volumes</code> section mandatory in compose?</h2>
<p>The <code dir="auto">volumes</code> section in Docker Compose is not mandatory but is often used for named volumes. Named volumes are useful when you need persistent storage that is managed by Docker, shared between multiple containers, or reused across services.</p>
<p>However, if you define a volume directly in a service without explicitly declaring it under the <code dir="auto">volumes</code> section, Docker will automatically treat it as an anonymous volume. Here’s a comparison:</p>
<h3 id="1-without-volumes-section-anonymous-volume">1. Without <code dir="auto">volumes</code> Section (Anonymous Volume):</h3>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">app</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python:3.8-slim</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">app-container</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">/data</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">worker</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python:3.8-slim</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">worker-container</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">/data</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  app:    image: python:3.8-slim    container_name: app-container    volumes:      - /data  worker:    image: python:3.8-slim    container_name: worker-container    volumes:      - /data"><div></div></button></div></figure></div>
<p>In this case, Docker will create an anonymous volume for each service. These volumes are not shared, and their lifecycle is tied to the container.</p>
<h3 id="2-with-volumes-section-named-volume">2. With <code dir="auto">volumes</code> Section (Named Volume):</h3>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">app</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python:3.8-slim</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">app-container</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">shared-data:/data</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">worker</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">python:3.8-slim</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">worker-container</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">shared-data:/data</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">shared-data</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  app:    image: python:3.8-slim    container_name: app-container    volumes:      - shared-data:/data  worker:    image: python:3.8-slim    container_name: worker-container    volumes:      - shared-data:/datavolumes:  shared-data:"><div></div></button></div></figure></div>
<p>Here, the <code dir="auto">volumes</code> section defines a named volume <code dir="auto">shared-data</code> (you can see this in docker desktop volumes tab). Both services can access this same volume, and it persists independently of the containers.</p>
<h3 id="3-key-differences">3. Key Differences:</h3>
<ul>
<li><strong>Named Volumes:</strong> Defined explicitly under the <code dir="auto">volumes</code> section. These can be shared between containers and persist even if containers are removed.</li>
<li><strong>Anonymous Volumes:</strong> Created automatically if you omit the <code dir="auto">volumes</code> section. They are container-specific and not shared unless explicitly defined.</li>
</ul>
<p>If you need to share data between containers, defining the volume under the <code dir="auto">volumes</code> section is recommended.</p>
<h1 id="6-environment-variables">6. Environment variables</h1>
<p>In Docker Compose, both the <code dir="auto">env_file</code> and <code dir="auto">environment</code> sections are used to set environment variables for services, but they serve slightly different purposes and are used in different ways.</p>
<h2 id="61-env_file-section">6.1 <code dir="auto">env_file</code> Section</h2>
<p>The <code dir="auto">env_file</code> section specifies a file that contains environment variable definitions. Each variable is defined on a new line in the file in the format <code dir="auto">KEY=VALUE</code>. Docker Compose reads this file and sets the environment variables in the service’s container.</p>
<h4 id="usage">Usage:</h4>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">web</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">nginx</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">env_file</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">.env</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">./config/env.list</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  web:    image: nginx    env_file:      - .env      - ./config/env.list"><div></div></button></div></figure></div>
<ul>
<li><strong><code dir="auto">.env</code></strong> and <strong><code dir="auto">./config/env.list</code></strong> are files containing environment variables.</li>
<li>The environment variables from these files are loaded into the container.</li>
</ul>
<h4 id="example-env-file">Example <code dir="auto">.env</code> File:</h4>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">DATABASE_URL=postgres://user:password@db:5432/mydatabase</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">SECRET_KEY=mysecretkey</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="DATABASE_URL=postgres://user:password@db:5432/mydatabaseSECRET_KEY=mysecretkey"><div></div></button></div></figure></div>
<h2 id="62-environment-section">6.2 <code dir="auto">environment</code> Section</h2>
<p>The <code dir="auto">environment</code> section allows you to define environment variables directly within the <code dir="auto">docker-compose.yml</code> file. You can list individual variables and their values directly under this section.</p>
<h4 id="usage-1">Usage:</h4>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">web</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">nginx</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">environment</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">DATABASE_URL=postgres://user:password@db:5432/mydatabase</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">SECRET_KEY=mysecretkey</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  web:    image: nginx    environment:      - DATABASE_URL=postgres://user:password@db:5432/mydatabase      - SECRET_KEY=mysecretkey"><div></div></button></div></figure></div>
<ul>
<li>Variables are specified directly in the <code dir="auto">docker-compose.yml</code> file, which is useful for simple configurations or when you want to keep environment settings directly in the compose file.</li>
</ul>
<h2 id="63-key-differences">6.3 Key Differences:</h2>
<p><strong>1. Source:</strong></p>
<ul>
<li><strong><code dir="auto">env_file</code>:</strong> Loads environment variables from external files. This is useful for managing variables outside the <code dir="auto">docker-compose.yml</code> file, which can be useful for secrets, configuration files, or shared environment settings.</li>
<li><strong><code dir="auto">environment</code>:</strong> Defines environment variables directly in the <code dir="auto">docker-compose.yml</code> file. This is useful for straightforward configurations or when the variables are not sensitive.</li>
</ul>
<p><strong>2. File Format:</strong></p>
<ul>
<li><strong><code dir="auto">env_file</code>:</strong> Uses a separate file (or files) where each line is a key-value pair.</li>
<li><strong><code dir="auto">environment</code>:</strong> Defines variables inline, using a list format.</li>
</ul>
<p><strong>3. Multiple Files:</strong></p>
<ul>
<li><strong><code dir="auto">env_file</code>:</strong> Can specify multiple files, and environment variables from these files are merged, with later files overriding variables from earlier files if there are conflicts.</li>
<li><strong><code dir="auto">environment</code>:</strong> Can only define variables directly in the compose file and does not support merging with external files.</li>
</ul>
<h2 id="64-example-of-using-both">6.4 Example of Using Both:</h2>
<p>You can use both sections together if needed:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">web</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">busybox</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">sh -c 'sleep 2 &#x26;&#x26; env'</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#616671"># will run `sleep 2` and `env` shell commands inside a shell process</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#809191;--1:#616671"># `env` command will print the environment variables</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">env_file</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">.env</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">environment</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3C63B3">DEBUG=true</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  web:    image: busybox    command: sh -c &#x27;sleep 2 &#x26;&#x26; env&#x27;    # will run &#x60;sleep 2&#x60; and &#x60;env&#x60; shell commands inside a shell process    # &#x60;env&#x60; command will print the environment variables    env_file:      - .env    environment:      - DEBUG=true"><div></div></button></div></figure></div>
<p>In this example:</p>
<ul>
<li>Environment variables from <code dir="auto">.env</code> file are loaded.</li>
<li>The <code dir="auto">DEBUG</code> variable is also set directly in the <code dir="auto">docker-compose.yml</code> file, which could override any similar variable defined in the <code dir="auto">.env</code> file.</li>
</ul>
<aside aria-label="IMPORTANT" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> IMPORTANT </p> <section class="starlight-aside__content"> <ul>
<li><strong><code dir="auto">env_file</code>:</strong> Loads environment variables from external files.</li>
<li><strong><code dir="auto">environment</code>:</strong> Defines environment variables directly in the <code dir="auto">docker-compose.yml</code> file.</li>
</ul> </section> </aside>
<p>Choosing between these depends on your needs for managing configuration and secrets in your Docker Compose setup.</p>
<h1 id="7-docker-compose-command-sh--c">7. Docker compose <code dir="auto">command</code> <code dir="auto">sh</code> <code dir="auto">-c</code></h1>
<p>You can definitely use the <code dir="auto">echo</code> command directly in Docker Compose without needing to wrap it in <code dir="auto">sh -c</code>. However, the <code dir="auto">sh -c</code> approach is necessary when you want to execute <strong>multiple commands</strong> or use shell features like conditional execution, loops, or variable expansion.</p>
<h2 id="71-direct-echo-command-example">7.1 Direct <code dir="auto">echo</code> Command Example:</h2>
<p>If you only want to run a single command like <code dir="auto">echo</code>, you can specify it directly in the <code dir="auto">command</code> section without <code dir="auto">sh -c</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">ubuntu_service</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">ubuntu:latest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">my_ubuntu_container</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">echo "Hello from Docker Compose!"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  ubuntu_service:    image: ubuntu:latest    container_name: my_ubuntu_container    command: echo &#x22;Hello from Docker Compose!&#x22;"><div></div></button></div></figure></div>
<h2 id="72-when-you-need-sh--c">7.2 When You Need <code dir="auto">sh -c</code>:</h2>
<p>The <code dir="auto">sh -c</code> is required when you need to execute multiple commands in sequence, use shell operators (<code dir="auto">&#x26;&#x26;</code>, <code dir="auto">||</code>, etc.), or work with more complex command structures:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">ubuntu_service</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">ubuntu:latest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">my_ubuntu_container</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">sh -c "echo 'Updating packages...' &#x26;&#x26; apt-get update &#x26;&#x26; echo 'Setup complete!'"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  ubuntu_service:    image: ubuntu:latest    container_name: my_ubuntu_container    command: sh -c &#x22;echo &#x27;Updating packages...&#x27; &#x26;&#x26; apt-get update &#x26;&#x26; echo &#x27;Setup complete!&#x27;&#x22;"><div></div></button></div></figure></div>
<aside aria-label="TIP" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> TIP </p> <section class="starlight-aside__content"> <ul>
<li><strong>Single Command</strong>: If you have just one simple command (like <code dir="auto">echo</code>), you can use it directly without <code dir="auto">sh -c</code>.</li>
<li><strong>Multiple Commands/Complex Logic</strong>: Use <code dir="auto">sh -c</code> when you need to run multiple commands or use shell features.</li>
</ul> </section> </aside>
<p>The use of <code dir="auto">sh -c</code> provides flexibility and allows you to do more complex operations within a single <code dir="auto">command</code> field in Docker Compose.</p>
<h1 id="8-docker-compose-psuedo-terminal">8. Docker compose Psuedo Terminal</h1>
<p>To open a pseudo-terminal (interactive terminal) with Docker Compose, you can use the <code dir="auto">docker-compose run</code> or <code dir="auto">docker-compose exec</code> command with the <code dir="auto">-it</code> option. This is useful for running commands interactively inside a container, such as opening a shell session.</p>
<h2 id="81-using-docker-compose-run">8.1 Using <code dir="auto">docker-compose</code> <code dir="auto">run</code></h2>
<p>The <code dir="auto">docker-compose run</code> command creates and runs a new container based on the service definition. The <code dir="auto">-it</code> option is used to allocate a pseudo-TTY and keep it interactive.</p>
<h4 id="example">Example:</h4>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">run</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">-it</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">&#x3C;service_name></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">/bin/bash</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker-compose run -it <service_name> /bin/bash"><div></div></button></div></figure></div>
<ul>
<li>Replace <code dir="auto">&#x3C;service_name></code> with the name of the service you want to interact with (e.g., <code dir="auto">web</code>, <code dir="auto">app</code>, <code dir="auto">db</code>).</li>
<li><code dir="auto">/bin/bash</code> is the command to run inside the container. You can replace this with any other command.</li>
</ul>
<h2 id="82-docker-compose-exec">8.2 <code dir="auto">docker-compose</code> <code dir="auto">exec</code></h2>
<p>The <code dir="auto">docker-compose exec</code> command is used to run a command inside an already running container. It’s the preferred method if your container is already up and running.</p>
<h4 id="example-1">Example:</h4>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">exec</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">-it</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">&#x3C;service_name></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">/bin/bash</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker-compose exec -it <service_name> /bin/bash"><div></div></button></div></figure></div>
<ul>
<li>Replace <code dir="auto">&#x3C;service_name></code> with the name of the running service you want to access.</li>
<li>This will open a bash shell in the running container.</li>
</ul>
<h2 id="83-differences-between-run-and-exec">8.3 Differences Between <code dir="auto">run</code> and <code dir="auto">exec</code>:</h2>
<ul>
<li><strong><code dir="auto">run</code></strong>: Starts a new container for the specified service. It is useful for one-off tasks or testing commands in a fresh container.</li>
<li><strong><code dir="auto">exec</code></strong>: Attaches to an already running container. Use this when you need to interact with an existing service.</li>
</ul>
<h4 id="example-scenario">Example Scenario:</h4>
<p>Suppose you have a <code dir="auto">docker-compose.yml</code> file with a service named <code dir="auto">web</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">web</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">nginx</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">ports</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#9B504E">80:80</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  web:    image: nginx    ports:      - &#x22;80:80&#x22;"><div></div></button></div></figure></div>
<p><strong>1. Open a new container with a terminal:</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">run</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">-it</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">web</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">/bin/bash</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker-compose run -it web /bin/bash"><div></div></button></div></figure></div>
<p>This command starts a new <code dir="auto">nginx</code> container and drops you into an interactive shell.</p>
<p><strong>2. Access an existing running container:</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">up</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">-d</span><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#809191;--1:#616671"># Start services in the background</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">exec</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">-it</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">web</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">/bin/bash</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker-compose up -d  # Start services in the backgrounddocker-compose exec -it web /bin/bash"><div></div></button></div></figure></div>
<p>This command attaches to the running <code dir="auto">web</code> container and gives you a bash shell.</p>
<aside aria-label="TIP" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> TIP </p> <section class="starlight-aside__content"> <ul>
<li>Use <code dir="auto">docker-compose run -it &#x3C;service_name> /bin/bash</code> to start a new container and open a terminal.</li>
<li>Use <code dir="auto">docker-compose exec -it &#x3C;service_name> /bin/bash</code> to open a terminal in an already running container.</li>
</ul> </section> </aside>
<h1 id="9-interative-termial-in-docker-composeyaml">9. Interative Termial in <code dir="auto">docker-compose.yaml</code></h1>
<p>To specify an interactive terminal within the <code dir="auto">docker-compose.yml</code> file, you can use the <code dir="auto">stdin_open</code> and <code dir="auto">tty</code> options. These options ensure that the container starts with an interactive terminal available. This is particularly useful when you want to run a service in a way that you can interact with it directly, such as when using a shell.</p>
<h2 id="91-example-docker-composeyml-with-interactive-terminal">9.1 Example <code dir="auto">docker-compose.yml</code> with Interactive Terminal:</h2>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#9B504E">3.8</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">myservice</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">ubuntu:latest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3C63B3">/bin/bash</span><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#809191;--1:#616671"># Command to run when the container starts</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">stdin_open</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#FF5874;--1:#A54A4A">true</span><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#809191;--1:#616671"># Keeps stdin open to allow interactive input</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">tty</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#FF5874;--1:#A54A4A">true</span><span style="--0:#D6DEEB;--1:#403F53">           </span><span style="--0:#809191;--1:#616671"># Allocates a pseudo-TTY</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x27;3.8&#x27;services:  myservice:    image: ubuntu:latest    command: /bin/bash  # Command to run when the container starts    stdin_open: true    # Keeps stdin open to allow interactive input    tty: true           # Allocates a pseudo-TTY"><div></div></button></div></figure></div>
<ul>
<li><strong><code dir="auto">stdin_open: true</code>:</strong> Keeps the standard input (stdin) open, which is necessary for interactive sessions.</li>
<li><strong><code dir="auto">tty: true</code>:</strong> Allocates a pseudo-TTY, which is required for terminal interaction.</li>
<li><strong><code dir="auto">command: /bin/bash</code>:</strong> Runs the <code dir="auto">bash</code> shell, allowing interaction when the container starts.</li>
</ul>
<h2 id="92-running-the-service">9.2 Running the Service:</h2>
<p>When you run the service with <code dir="auto">docker-compose up -d</code>, the container will start with an interactive terminal and detach. To interact with it, use the <code dir="auto">docker attach</code> command or access it via <code dir="auto">docker-compose exec</code>.</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">up</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671"># or</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">up</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3C63B3">-d</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#809191;--1:#616671"># run in background</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker-compose updocker-compose up -d # run in background"><div></div></button></div></figure></div>
<p>Then, in a separate terminal:</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">attach</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">&#x3C;container_name></span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671"># attach to main bash process in ubunutu</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker attach <container_name>"><div></div></button></div></figure></div>
<p>Or:</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3C63B3">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">exec</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">myservice</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3C63B3">/bin/bash</span></div></div><div class="ec-line"><div class="code"><span style="--0:#809191;--1:#616671"># attach to a new bash process in ubunutu</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker-compose exec myservice /bin/bash"><div></div></button></div></figure></div>
<aside aria-label="IMPORTANT" class="starlight-aside starlight-aside--tip"> <p class="starlight-aside__title" aria-hidden="true"> <svg aria-hidden="true" class="starlight-aside__icon astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M1.44 8.855v-.001l3.527-3.516c.34-.344.802-.541 1.285-.548h6.649l.947-.947c3.07-3.07 6.207-3.072 7.62-2.868a1.821 1.821 0 0 1 1.557 1.557c.204 1.413.203 4.55-2.868 7.62l-.946.946v6.649a1.845 1.845 0 0 1-.549 1.286l-3.516 3.528a1.844 1.844 0 0 1-3.11-.944l-.858-4.275-4.52-4.52-2.31-.463-1.964-.394A1.847 1.847 0 0 1 .98 10.693a1.843 1.843 0 0 1 .46-1.838Zm5.379 2.017-3.873-.776L6.32 6.733h4.638l-4.14 4.14Zm8.403-5.655c2.459-2.46 4.856-2.463 5.89-2.33.134 1.035.13 3.432-2.329 5.891l-6.71 6.71-3.561-3.56 6.71-6.711Zm-1.318 15.837-.776-3.873 4.14-4.14v4.639l-3.364 3.374Z" clip-rule="evenodd"/><path d="M9.318 18.345a.972.972 0 0 0-1.86-.561c-.482 1.435-1.687 2.204-2.934 2.619a8.22 8.22 0 0 1-1.23.302c.062-.365.157-.79.303-1.229.415-1.247 1.184-2.452 2.62-2.935a.971.971 0 1 0-.62-1.842c-.12.04-.236.084-.35.13-2.02.828-3.012 2.588-3.493 4.033a10.383 10.383 0 0 0-.51 2.845l-.001.016v.063c0 .536.434.972.97.972H2.24a7.21 7.21 0 0 0 .878-.065c.527-.063 1.248-.19 2.02-.447 1.445-.48 3.205-1.472 4.033-3.494a5.828 5.828 0 0 0 .147-.407Z"/></svg> IMPORTANT </p> <section class="starlight-aside__content"> <p>By setting <code dir="auto">stdin_open: true</code> and <code dir="auto">tty: true</code> in the <code dir="auto">docker-compose.yml</code> file, you ensure that your container is prepared for interactive use, allowing you to run commands or scripts that require user interaction.</p> </section> </aside> </div> <footer class="sl-flex astro-wfnuabzr"> <div class="meta sl-flex astro-wfnuabzr">   </div> <div class="pagination-links astro-hw4muy6m" dir="ltr"> <a href="/dev/os/4_containerization/1-docker/4_networking/" rel="prev" class="astro-hw4muy6m"> <svg aria-hidden="true" class="astro-hw4muy6m astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-hw4muy6m"> Previous <br class="astro-hw4muy6m"> <span class="link-title astro-hw4muy6m">1.4 Networking</span> </span> </a> <a href="/dev/os/4_containerization/1-docker/6_container_monitoring/" rel="next" class="astro-hw4muy6m"> <svg aria-hidden="true" class="astro-hw4muy6m astro-l4bgpgeq" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-hw4muy6m"> Next <br class="astro-hw4muy6m"> <span class="link-title astro-hw4muy6m">1.6 Container Monitoring</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>