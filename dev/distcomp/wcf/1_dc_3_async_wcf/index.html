<!DOCTYPE HTML>
<html lang="en" >
    <head><meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>3. Async WCF · Intelligent Mind Labs</title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="Wikis for Data Science, Computing, Software Development, Math, etc.
"><!-- <meta name="generator" content="Jekyll (using style of GitBook 3.2.3)"> --><meta name="author" content="Intelligent Mind Labs"><!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> -->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> -->

<!-- For logo animation -->
<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"> -->

<link rel="stylesheet" href="/dev/distcomp/assets/fonts/fa5.15/css/all.min.css">

<link id="gitbook_style" rel="stylesheet" href="/dev/distcomp/assets/gitbook/style.css">
<link rel="stylesheet" href="/dev/distcomp/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.css">
<link rel="stylesheet" href="/dev/distcomp/assets/gitbook/gitbook-plugin-expandable-chapters-small2/expandable-chapters-small.css">
<link rel="stylesheet" href="/dev/distcomp/assets/gitbook/gitbook-plugin-fontsettings/website.css">
<link rel="stylesheet" href="/dev/distcomp/assets/gitbook/gitbook-plugin-search-pro/search.css">
<link rel="stylesheet" href="/dev/distcomp/assets/gitbook/gitbook-plugin-splitter/splitter.css">



<!-- <link rel="stylesheet" href="/dev/distcomp/assets/gitbook/rouge/colorful.css"> -->

<style>
@import url('https://fonts.googleapis.com/css2?family=Exo:ital,wght@0,100..900;1,100..900&display=swap');
</style>
    

<link rel="stylesheet" href="/dev/distcomp/assets/gitbook/custom.css">
<link rel="stylesheet" href="/dev/distcomp/assets/gitbook/custom-local.css"><style>
.img_url {
    content: url("/dev/distcomp/assets/images/wiki.imindlabs.grey.logo.png");
}

.book.color-theme-2 .img_url {
    content: url("/dev/distcomp/assets/images/wiki.imindlabs.logo.png");
}
</style><link rel="stylesheet" href="/dev/distcomp/assets/gitbook/custom-local-child.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<!-- <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/dev/distcomp/assets/gitbook/images/apple-touch-icon-precomposed-152.png"> -->
<!-- <link rel="shortcut icon" href="/dev/distcomp/wiki.imindlabs.favicon.png" type="image/x-icon"> -->
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/dev/distcomp/wiki.imindlabs.favicon.png">
<link rel="icon" href="/dev/distcomp/wiki.imindlabs.favicon.png" sizes="32x32" type="image/png">
<link rel="icon" href="/dev/distcomp/wiki.imindlabs.favicon.png" sizes="16x16" type="image/png">
<link rel="shortcut icon" href="/dev/distcomp/wiki.imindlabs.favicon.png" type="image/png">



<!-- trackers -->
            <link rel="prev" href="/dev/distcomp/wcf/1_dc_2_service_and_data_contract/" />
        

        
    </head>
    <body>         
        <div class="book"><div class="book-summary">
    <script type="text/javascript">
        // Fixes the page links scroll problem on both desktop and mobile browsers
        function pageScrollToTop(element) {
            // both mobile and non-mobile
            $('div.body-inner').animate({ scrollTop: 0 });
            $(element).parent().find('li>ul>li').removeClass('active');
            return true;  // propagate
        }
        // Fixes the anchor links scroll problem on mobile browsers
        function mobilePageScrollToAnchor(element) {
            $(element).closest('li.chapter').find('ul>li').removeClass('active');
            $(element).parent().addClass('active');
            
            // ! BUG: Enable the following functionality on large screen sizes
            // On sub menu item click the page did not navigate. Now it does.
            //if ($(document).width() <= 1240) {
                $('div.body-inner').animate({ scrollTop: $($(element).attr('href')).get(0).offsetTop });
            // }
            return true;
        }
    </script>

    <!-- <div style="text-align:center;" class="animate__animated animate__pulse animate__delay-1s">
        <a href="/dev/distcomp/">
            <img class="logo zoom" src="/dev/distcomp/assets/images/wiki.imindlabs.logo.png" alt="Intelligent Mind Labs wiki logo" />
        </a>
    </div> -->
    <div style="text-align:center;" class="logo-wrap">
        <a href="/dev/distcomp/">
            <img class="logo zoom" src="/dev/distcomp/assets/images/wiki.imindlabs.logo_153x200.webp" alt="Intelligent Mind Labs wiki logo" width="153" height="200"/>
        </a>
    </div>

    <nav role="navigation">
        <div id="book-search-input" role="search">
            <input type="text" placeholder="Type to search" />
        </div>
        <div id="book-search-input-link" role="search">
            <a href="/dev/distcomp/assets/search.html">Click to Search</a>
        </div>
        <ul class="summary">
            
            <li class="chapter" data-level="1.1" data-path="/dev/distcomp">
                
                <a href="/dev/distcomp/" onclick="pageScrollToTop(this)">
                    Wiki | Distributed - Computing
                </a>
            </li>

            <!-- <li class="divider"></li> -->

            
            <!-- <p>1_net_distcomp</p> -->
            
                <p class="collection-title">.Net Distributed Computing</p>
            
            
            

            
            
            
            <p class="separator-title">C#</p>
            
            
            
            <li class="chapter" data-level="1.1" data-path="/dev/distcomp/c_sharp/1_cs_1_fundamentals/">
                
                <a href="/dev/distcomp/c_sharp/1_cs_1_fundamentals/" onclick="pageScrollToTop(this)">
                    1. Fundamentals
                </a>
                
                
                
            </li>
            
            
            
            
            
            <li class="chapter" data-level="1.1" data-path="/dev/distcomp/c_sharp/1_cs_2_advance/">
                
                <a href="/dev/distcomp/c_sharp/1_cs_2_advance/" onclick="pageScrollToTop(this)">
                    2. Advance
                </a>
                
                
                
            </li>
            
            
            
            
            
            <li class="chapter" data-level="1.1" data-path="/dev/distcomp/c_sharp/1_cs_3_async_task/">
                
                <a href="/dev/distcomp/c_sharp/1_cs_3_async_task/" onclick="pageScrollToTop(this)">
                    3. Async Task
                </a>
                
                
                
            </li>
            
            
            
            
            
            <li class="chapter" data-level="1.1" data-path="/dev/distcomp/c_sharp/1_cs_4_delegate/">
                
                <a href="/dev/distcomp/c_sharp/1_cs_4_delegate/" onclick="pageScrollToTop(this)">
                    4. Delegate
                </a>
                
                
                
            </li>
            
            
            
            <p class="separator-title">Distributed Computing</p>
            
            
            
            <li class="chapter" data-level="1.1" data-path="/dev/distcomp/wcf/1_dc_1_fundamentals/">
                
                <a href="/dev/distcomp/wcf/1_dc_1_fundamentals/" onclick="pageScrollToTop(this)">
                    1. Fundamentals
                </a>
                
                
                
            </li>
            
            
            
            
            
            <li class="chapter" data-level="1.1" data-path="/dev/distcomp/wcf/1_dc_2_service_and_data_contract/">
                
                <a href="/dev/distcomp/wcf/1_dc_2_service_and_data_contract/" onclick="pageScrollToTop(this)">
                    2. Contracts
                </a>
                
                
                
            </li>
            
            
            
            
            
            <li class="chapter active" data-level="1.2" data-path="/dev/distcomp/wcf/1_dc_3_async_wcf/">
                
                <a href="/dev/distcomp/wcf/1_dc_3_async_wcf/" onclick="pageScrollToTop(this)">
                    3. Async WCF
                </a>
                
                
                <ul><li><a href="#31-client-using-iasync-result" onclick="mobilePageScrollToAnchor(this)" >3.1 Client Using IAsync Result</a></li></ul>

                
                
            </li>
            

            
            <!-- <li class="divider"></li> -->
            
            
            
            <!-- <p>2_java_distcomp</p> -->
            
                <p class="collection-title">Java Distributed Computing</p>
            
            
            

            
            
            
            
            
            <li class="chapter" data-level="1.1" data-path="/dev/distcomp/java/1_basics/">
                
                <a href="/dev/distcomp/java/1_basics/" onclick="pageScrollToTop(this)">
                    1. Basics
                </a>
                
                
                
            </li>
            

            
            <!-- <li class="divider"></li> -->
            
            
            
            <!-- <p>posts</p> -->
            
            
            

            

            
            
            
        </ul>
    </nav>
</div><div class="book-body">
                <div class="book-header" role="navigation">
                    <!-- Title -->
                    <h1>
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                        
                            <a href="." >3. Async WCF</a>
                        
                    </h1>
                </div>

                <div class="body-inner"><div class="page-wrapper" tabindex="-1" role="main">
    

    <!-- <div class="spinner-container">
        <div class="spinner-border text-info" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div> -->

    <div class="page-inner">
        <div id="book-search-results"> <!-- class="hide_element" -->            
            <div class="search-noresults">
                <section class="normal markdown-section">
                    
                        <h1 id="/wcf/1_dc_3_async_wcf">3. Async WCF</h1>
                    

                    <h1 id="31-client-using-iasync-result">3.1 Client Using IAsync Result</h1>

<p>This C# WPF application connects to a student database service using WCF and allows users to search for student records asynchronously. It retrieves and displays student details, updating the UI safely across threads. The code uses a delegate for asynchronous searches, ensuring proper resource management by checking if EndInvoke has been called before invoking it to avoid errors.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nn">AsyncClient</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">delegate</span> <span class="n">Student</span> <span class="nf">Search</span><span class="p">(</span><span class="kt">string</span> <span class="k">value</span><span class="p">);</span> <span class="c1">//delegate for searching</span>

    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Interaction logic for MainWindow.xaml</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">MainWindow</span> <span class="p">:</span> <span class="n">Window</span>
    <span class="p">{</span>
        <span class="c1">// Server contract for the client to create a channel</span>
        <span class="k">private</span> <span class="n">StudentBusinessInterface</span> <span class="n">foob</span><span class="p">;</span>
        <span class="k">private</span> <span class="n">Search</span> <span class="n">search</span><span class="p">;</span> <span class="c1">//reference to method</span>
       
        <span class="k">public</span> <span class="nf">MainWindow</span><span class="p">()</span>
        <span class="p">{</span>
                   <span class="nf">InitializeComponent</span><span class="p">();</span>
                   <span class="n">ChannelFactory</span><span class="p">&lt;</span><span class="n">StudentBusinessInterface</span><span class="p">&gt;</span> <span class="n">foobFactory</span><span class="p">;</span>
                   <span class="n">NetTcpBinding</span> <span class="n">tcp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">NetTcpBinding</span><span class="p">();</span>
                   <span class="c1">//Set the URL and create the connection!</span>
                   <span class="kt">string</span> <span class="n">URL</span> <span class="p">=</span> <span class="s">"net.tcp://localhost:8200/StudentBusinessService"</span><span class="p">;</span>
                   <span class="n">foobFactory</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ChannelFactory</span><span class="p">&lt;</span><span class="n">StudentBusinessInterface</span><span class="p">&gt;(</span><span class="n">tcp</span><span class="p">,</span> <span class="n">URL</span><span class="p">);</span>
                   <span class="n">foob</span> <span class="p">=</span> <span class="n">foobFactory</span><span class="p">.</span><span class="nf">CreateChannel</span><span class="p">();</span>
                   <span class="c1">//Also, tell me how many entries are in the DB.</span>
                   <span class="n">TotalNum</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="n">foob</span><span class="p">.</span><span class="nf">GetNumEntries</span><span class="p">().</span><span class="nf">ToString</span><span class="p">();</span>
           
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">SearchButthon_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">RoutedEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">search</span> <span class="p">=</span> <span class="n">SearchDB</span><span class="p">;</span>

            <span class="c1">// Set the callback</span>
            <span class="n">AsyncCallback</span> <span class="n">callback</span><span class="p">;</span>
            <span class="n">callback</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">OnSearchCompletion</span><span class="p">;</span>

            <span class="c1">// Call the delegate asynchronously</span>
            <span class="n">IAsyncResult</span> <span class="n">result</span> <span class="p">=</span> <span class="n">search</span><span class="p">.</span><span class="nf">BeginInvoke</span><span class="p">(</span><span class="n">SearchBox</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span> <span class="n">callback</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>

            <span class="c1">// search.EndInoke must be called (and once only) for search.BeginInoke</span>
            <span class="c1">// In the callback method retrieve the delete object 'search' and call search.Endinvoke</span>

        <span class="p">}</span>

        <span class="c1">// This method will be called asynchronously on SearchButthon_Click()</span>
        <span class="k">private</span> <span class="n">Student</span> <span class="nf">SearchDB</span><span class="p">(</span><span class="kt">string</span> <span class="k">value</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">name</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">id</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="kt">string</span> <span class="n">universityName</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="n">foob</span><span class="p">.</span><span class="nf">GetValuesForSearch</span><span class="p">(</span><span class="k">value</span><span class="p">,</span> <span class="k">out</span> <span class="n">name</span><span class="p">,</span> <span class="k">out</span> <span class="n">id</span><span class="p">,</span> <span class="k">out</span> <span class="n">universityName</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">id</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Student</span> <span class="n">aStudent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Student</span><span class="p">();</span>
                <span class="n">aStudent</span><span class="p">.</span><span class="n">Name</span><span class="p">=</span> <span class="n">name</span><span class="p">;</span>
                <span class="n">aStudent</span><span class="p">.</span><span class="n">Id</span><span class="p">=</span> <span class="n">id</span><span class="p">;</span>
                <span class="n">aStudent</span><span class="p">.</span><span class="n">University</span> <span class="p">=</span> <span class="n">universityName</span><span class="p">;</span>
                <span class="k">return</span> <span class="n">aStudent</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="k">null</span><span class="p">;</span>

            <span class="c1">// Once the value is returned the callback (which is set in SearchButthon_Click) will be called</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">UpdateGui</span><span class="p">(</span><span class="n">Student</span> <span class="n">aStudent</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Update the GUI Asynchronously</span>
            <span class="c1">// This method is called in a different thread</span>
            
            <span class="c1">// Queue the updates for GUI elements</span>
            <span class="c1">// This is because, GUI elements cannot be updated apart from the GUI thread (main thread) </span>
            <span class="n">SiD</span><span class="p">.</span><span class="n">Dispatcher</span><span class="p">.</span><span class="nf">Invoke</span><span class="p">(</span><span class="k">new</span> <span class="nf">Action</span><span class="p">(()</span> <span class="p">=&gt;</span><span class="n">SiD</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="n">aStudent</span><span class="p">.</span><span class="n">Id</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()));</span>
            <span class="n">SName</span><span class="p">.</span><span class="n">Dispatcher</span><span class="p">.</span><span class="nf">Invoke</span><span class="p">(</span><span class="k">new</span> <span class="nf">Action</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">SName</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="n">aStudent</span><span class="p">.</span><span class="n">Name</span><span class="p">));</span>
            <span class="n">SUni</span><span class="p">.</span><span class="n">Dispatcher</span><span class="p">.</span><span class="nf">Invoke</span><span class="p">(</span><span class="k">new</span> <span class="nf">Action</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">SUni</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="n">aStudent</span><span class="p">.</span><span class="n">University</span><span class="p">));</span>
           
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">OnSearchCompletion</span><span class="p">(</span><span class="n">IAsyncResult</span> <span class="n">asyncResult</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Student</span> <span class="n">iStudent</span><span class="p">=</span><span class="k">null</span><span class="p">;</span>
            <span class="n">Search</span> <span class="n">search</span><span class="p">=</span><span class="k">null</span><span class="p">;</span>
            <span class="n">AsyncResult</span> <span class="n">asyncobj</span> <span class="p">=</span> <span class="p">(</span><span class="n">AsyncResult</span><span class="p">)</span><span class="n">asyncResult</span><span class="p">;</span>
            
            <span class="c1">// Check whether the EndInvoke is called already (if EndInvoke is called twice, it will show an error)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">asyncobj</span><span class="p">.</span><span class="n">EndInvokeCalled</span> <span class="p">==</span> <span class="k">false</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// Retreieve the delegate object 'search'</span>
                <span class="n">search</span> <span class="p">=</span> <span class="p">(</span><span class="n">Search</span><span class="p">)</span><span class="n">asyncobj</span><span class="p">.</span><span class="n">AsyncDelegate</span><span class="p">;</span>

                <span class="c1">// Call the EndInvoke on the delegate object</span>
                <span class="c1">// Retrieve the student object returned in function ('SearchDB') pointed by the delegate 'search'</span>
                <span class="n">iStudent</span> <span class="p">=</span> <span class="n">search</span><span class="p">.</span><span class="nf">EndInvoke</span><span class="p">(</span><span class="n">asyncobj</span><span class="p">);</span>
                
                <span class="c1">// Update the GUI (Remember, we are in a different thread, not the GUI thread)</span>
                <span class="nf">UpdateGui</span><span class="p">(</span><span class="n">iStudent</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="n">asyncobj</span><span class="p">.</span><span class="n">AsyncWaitHandle</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
            

        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="explanation-of-asyncobjendinvokecalled--false">Explanation of <code class="language-plaintext highlighter-rouge">asyncobj.EndInvokeCalled == false</code></h4>

<p>In the <code class="language-plaintext highlighter-rouge">OnSearchCompletion</code> method, the check for <code class="language-plaintext highlighter-rouge">asyncobj.EndInvokeCalled == false</code> ensures that the <code class="language-plaintext highlighter-rouge">EndInvoke</code> method is only called once on the asynchronous delegate.</p>

<p>The check for <code class="language-plaintext highlighter-rouge">asyncobj.EndInvokeCalled == false</code> is a safeguard to avoid multiple invocations of <code class="language-plaintext highlighter-rouge">EndInvoke</code>, which could cause errors or resource leaks.</p>

<p>Here’s why this is important:</p>

<h5 id="understanding-iasyncresult-and-endinvoke">Understanding <code class="language-plaintext highlighter-rouge">IAsyncResult</code> and <code class="language-plaintext highlighter-rouge">EndInvoke</code>:</h5>
<ul>
  <li><code class="language-plaintext highlighter-rouge">IAsyncResult</code> is the interface returned by <code class="language-plaintext highlighter-rouge">BeginInvoke</code> when calling a method asynchronously using a delegate.</li>
  <li>When the asynchronous operation completes, <code class="language-plaintext highlighter-rouge">EndInvoke</code> must be called to retrieve the result and to ensure that resources used during the asynchronous operation are properly cleaned up.</li>
</ul>

<h5 id="the-purpose-of-the-endinvokecalled-check">The Purpose of the <code class="language-plaintext highlighter-rouge">EndInvokeCalled</code> Check:</h5>
<ul>
  <li><code class="language-plaintext highlighter-rouge">asyncobj.EndInvokeCalled</code> is a flag provided by the <code class="language-plaintext highlighter-rouge">AsyncResult</code> class that indicates whether <code class="language-plaintext highlighter-rouge">EndInvoke</code> has already been called on the delegate.</li>
  <li>The <code class="language-plaintext highlighter-rouge">EndInvoke</code> method should only be called once. If <code class="language-plaintext highlighter-rouge">EndInvoke</code> is called more than once, it can result in an <code class="language-plaintext highlighter-rouge">InvalidOperationException</code> or undefined behavior.</li>
  <li>By checking <code class="language-plaintext highlighter-rouge">asyncobj.EndInvokeCalled == false</code>, the code ensures that <code class="language-plaintext highlighter-rouge">EndInvoke</code> is only executed if it hasn’t been called already. This prevents double-calling <code class="language-plaintext highlighter-rouge">EndInvoke</code>, which could otherwise lead to errors.</li>
</ul>

<h5 id="practical-implications">Practical Implications:</h5>
<ul>
  <li><strong>Safety:</strong> This check ensures that the code remains safe and stable, particularly in complex scenarios where multiple asynchronous operations might be managed or when the callback could potentially be invoked multiple times.</li>
  <li><strong>Resource Management:</strong> Properly handling <code class="language-plaintext highlighter-rouge">EndInvoke</code> ensures that all resources tied to the asynchronous call are released correctly.</li>
</ul>
</section>
            </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div></div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<!-- introduce js_includes_ex support -->

<script>

    // Libraries to add dynamic tags below using .html files
    
    
    window.sciptsLib = new Map();
    window.cssLib = new Map();
    window.scipts = new Map();
    window.links = new Map();
    var jsIdIdx = 0;
    var cssIdIdx = 0;
    
    window.sciptsLib.set('bootstrap', [
        {uri: '//cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js'},
        {uri: '//cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js'}
    ]);
    window.cssLib.set('bootstrap', {uri: '//cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css'});
    
    window.sciptsLib.set('prism', {uri: '/dev/distcomp/assets/libs/prism/prism.js', defer: false});
    window.cssLib.set('prism', {uri: '/dev/distcomp/assets/libs/prism/prism.css', defer: false});

    //window.sciptsLib.set('xmind', {uri: '/dev/distcomp/assets/xmind/umd/xmind-embed-viewer.js', defer: false});
    
    // animate is included in head.html to support logo animation in navbar
    // window.cssLib.set('animate', {uri: '//cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css'});
    
    // Add the script tags before the following element
    var getbookStyleElement = document.getElementById("gitbook_style")

    // Adding script tags to externally link js
        keyName = `prism_js`

        if (!window.scipts.get(keyName)) {

            // Get the links from sciptsLib
            jsLinks = window.sciptsLib.get( 'prism');

            if (jsLinks instanceof Array) {
            
                let scriptTags = []            
                
                for (i in jsLinks) {
                    scriptTag = document.createElement("script")
                    scriptTag.src = jsLinks[i]['uri'];                    
                    scriptTag.defer = ('defer' in jsLinks[i]) ? jsLinks[i]['defer'] : true;
                    scriptTag.id =  `prism_js_${jsIdIdx++}`;
                    document.head.insertBefore(scriptTag, getbookStyleElement)
                    
                    scriptTags.push(scriptTag);
                    console.log(scriptTag)
                }

                // Add script tags to window.scripts map object
                window.scipts.set(keyName, scriptTags)
            
            } else if (window.sciptsLib.has( 'prism')) {

                scriptTag = document.createElement("script");
                // console.log("sadasd", prism, jsLinks);
                scriptTag.src = jsLinks['uri'];
                scriptTag.defer = ('defer' in jsLinks) ? jsLinks['defer'] : true;
                scriptTag.id =  `prism_js_${jsIdIdx++}`;
                document.head.insertBefore(scriptTag, getbookStyleElement)
                console.log(scriptTag)

                // Add script tag to window.scripts map object
                window.scipts.set(keyName, scriptTag);
            }
        }


        // Adding link tags to externally link css
        keyName = `prism_css`

        if (!window.scipts.get(keyName)) {

            // Get the links from cssLib
            cssLinks = window.cssLib.get( 'prism');            
            
            if (cssLinks instanceof Array) {
            
                let cssLinkTags = []            
                
                for (i in cssLinks) {
                    cssLinkTag = document.createElement("script")
                    cssLinkTag.href = cssLinks[i]['uri'];
                    cssLinkTag.defer = ('defer' in cssLinks[i]) ? cssLinks[i]['defer'] : true;
                    cssLinkTag.id =  `prism_css_${cssIdIdx++}`;
                    cssLinkTag.rel = 'stylesheet';
                    document.head.insertBefore(cssLinkTag, getbookStyleElement)
                    
                    cssLinkTags.push(cssLinkTag);
                    console.log(cssLinkTag)
                }

                // Add script tags to window.scripts map object
                window.scipts.set(keyName, cssLinkTags)
            
            } else if (window.cssLib.has( 'prism')) {

                cssLinkTag = document.createElement("link")
                cssLinkTag.href = cssLinks['uri'];
                cssLinkTag.defer = ('defer' in cssLinks) ? cssLinks['defer'] : true;
                cssLinkTag.id =  `prism_css_${cssIdIdx++}`;
                cssLinkTag.rel = 'stylesheet';
                document.head.insertBefore(cssLinkTag, getbookStyleElement)

                console.log(cssLinkTag)

                // Add script tag to window.scripts map object
                window.scipts.set(keyName, cssLinkTag);
            }
        }    
        
    

</script>







<!-- introduce mathjax support -->
<script>
    function fixes_chrome_anchors() {
        let chrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
        if (window.location.hash && chrome) {
            setTimeout(function () {
                var hash = window.location.hash;
                window.location.hash = "";
                window.location.hash = hash;
            }, 300);
        }
    }

    if (document.readyState === "loading") {
        // Loading hasn't finished yet
        document.addEventListener("DOMContentLoaded", fixes_chrome_anchors);
    } else {
        // `DOMContentLoaded` has already fired
        fixes_chrome_anchors();
    }
</script>


                        <a href="/dev/distcomp/wcf/1_dc_2_service_and_data_contract/" class="navigation navigation-prev navigation-unique hide_element" aria-label="Previous page: 2. Contracts"> <!-- class="hide_element" -->
                            <i class="fa fa-angle-left"></i>
                        </a>
                    

                    
                    <div class="copyright"><span>&copy; 2024 Intelligent Mind Labs, Inc. All rights reserved.</span>.</div>
                </div>
            </div>

            <script>
                // div "book" element's content is the only content refreshed when nav link is pressed.
                // This functionality is implemented in "gitbook.js" and "theme.js"
                // head.html and footer.html will not be called again and again when a new nav link is clicked
                // Gitbook js is optimized to dynamically change content inside div "book" element.
                // Due to this: script put in the footer will only be called once,
                // which is the very first time the page is loaded by entering
                // the web address in the address bar in the browser
                // 
                $ = jQuery;
                $(function() {
                    // spinnerHide();
                    // setTimeout(spinnerHide, 200);
           
                    $('.childBtn').on('click', function(event) {
                        event.stopImmediatePropagation(); // To prevent following the link (optional)
                        window.location = $(this).attr('link');
                    });

                    $('.parentBtn').on('click', function(event) {
                        window.location = $(this).attr('link');
                    });
                });
            </script>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "expandable-chapter-small2": {
                "articlesExpand": true,
            },
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},            "sharing": {
                "facebook": true,

                "google": false,

                "github": true,
              
                "github_link": "https://github.com",
              

                "telegram": false,
                "telegram_link": "https://t.me",

                "instapaper": false,

                "twitter": true,
              

                "vk": false,

                "weibo": false,

                "all": ["facebook", "google", "twitter", "weibo", "instapaper", "github", "telegram"]
            },
"theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            },
        },
        "theme": "default",
        "author": "Intelligent Mind Labs",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "Wiki | Distributed - Computing",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "_1_net_distcomp/1_dc_3_async_wcf.md",
        "mtime": "2019-04-27 00:00:00 +0800",
        "type": "markdown"
    },
    "gitbook": {
        "version": "3.2.3",
        "time": "2024-08-20 09:36:39 +0800"
    },
    "basePath": "/dev/distcomp",
    "book": {
        "language": ""
    }
});
            });

            </script>
        </div><script src="/dev/distcomp/assets/gitbook/gitbook.js"></script>
<script src="/dev/distcomp/assets/gitbook/theme.js"></script>

<script src="/dev/distcomp/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.js" async=""></script>
<!-- <script src="/dev/distcomp/assets/gitbook/gitbook-plugin-copy-code-button/toggle.js"></script> -->
<script src="/dev/distcomp/assets/gitbook/gitbook-plugin-expandable-chapters-small2/expandable-chapters-small.js"></script>
<script src="/dev/distcomp/assets/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
<script src="/dev/distcomp/assets/gitbook/gitbook-plugin-search-pro/jquery.mark.min.js" defer=""></script>
<script src="/dev/distcomp/assets/gitbook/gitbook-plugin-search-pro/search.js" defer=""></script>
<script src="/dev/distcomp/assets/gitbook/gitbook-plugin-sharing/buttons.js" defer=""></script>
<script src="/dev/distcomp/assets/gitbook/gitbook-plugin-splitter/splitter.js" defer=""></script>




<!--
<script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script>
-->



<script>
function spinnerHide() {
    $(".spinner-container").removeClass("show_element");
    $(".spinner-container").addClass("hide_element");
    $(".spinner-container").addClass("display_none");
    

    $("#book-search-results").removeClass("hide_element");
    $("#book-search-results").addClass("show_element");

    $(".navigation.navigation-next").removeClass("hide_element");
    $(".navigation.navigation-next").addClass("show_element");

    $(".navigation.navigation-prev").removeClass("hide_element");
    $(".navigation.navigation-prev").addClass("show_element");
}        
</script><!-- trackers --><!-- google analytics --><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V3WBTFTQWG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V3WBTFTQWG');
</script>
</body>
</html>